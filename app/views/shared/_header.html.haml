.nav.navbar.navbar-expand-md.navbar-light.bg-light.mb-3
  %i.fas.fa-archive
  %span.navbar-brand.mb-0.h1.pl-1
    Archive
  %button.navbar-toggler{data: {toggle: 'collapse', target: '#navbarNav'}}
    %span.navbar-toggler-icon
  .collapse.navbar-collapse#navbarNav
    %ul.navbar-nav
      %li.nav-item{class: "#{'active' if current_page?(controller: :display, action: :index)}"}
        %a.nav-link{href: url_for(:root)}
          Home

      %li.nav-item.dropdown
        %a.nav-link.dropdown-toggle#navbarDropDownMenuLink{href: '#',
          class: "#{'active' if current_page?(controller: :display, action: :show)}",
          data: { toggle: 'dropdown' }}
          Channels
        .dropdown-menu
          - Channel.order(name: :asc).each do |channel|
            - unless channel.messages.empty?
              %a.dropdown-item{class: "#{'active' if current_page?(channel)}",
                href: url_for(channel)}= channel.name

      %li.nav-item{class: "#{'active' if current_page?(controller: :search, action: :index)}"}
        %a.nav-link{href: url_for(:search)}
          Search